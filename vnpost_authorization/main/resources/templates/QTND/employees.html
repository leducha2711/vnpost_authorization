<!DOCTYPE html>
<html>
<head>
<title>VNPost</title>
<meta charset="utf-8">
<link rel="shortcut icon" type="image/png" th:href="@{img/favicon.ico}">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet"
	th:href="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css}">
<link
	th:href="@{https://use.fontawesome.com/releases/v5.0.4/css/all.css}"
	rel="stylesheet">
<script
	th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js}">
	
</script>
<script
	th:src="@{https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js}">
	
</script>
<script
	th:src="@{https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js}"></script>

<link rel="stylesheet" th:href="@{/css/style.css}">

<link rel="stylesheet"
	th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css}">

 <script type="text/javascript"
	th:src="@{https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js}"></script>
<!-- <script type="text/javascript"
	th:src="@{https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js}"></script> -->
	
<script type="text/javascript"
	th:src="@{https://cdn.datatables.net/fixedcolumns/3.3.0/js/dataTables.fixedColumns.min.js}"></script>


<link rel="stylesheet" type="text/css"
	th:href="@{https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css}"> 
<link rel="stylesheet" th:href="@{https://cdn.datatables.net/fixedcolumns/3.3.0/css/fixedColumns.dataTables.min.css}">
<!-- date picker -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.js"></script>
<!-- validate -->
<script type="text/javascript"
	th:src="@{https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.1/jquery.validate.min.js}"></script>
<style type="text/css">
	.DTFC_LeftBodyLiner {
		overflow-x:hidden !important;
		
	}
	.DTFC_RightBodyLiner{
		overflow-x:hidden !important;
	}
	label.error {
    	color:red;
    }
</style>
</head>
<body>
<div class="d-flex" id="wrapper">
		<div th:replace="common/menu::menu"></div>

		<div id="page-content-wrapper">
			<div th:replace="common/header::header"></div>

			<div class="container">
				 <h1 class="mt-4">Cán bộ nhân viên</h1> 
					<div class="mx-2 py-3 border-bottom">
					<div th:if="${#lists.contains(act,'search')}">
						<h5>Điều kiện tìm kiếm</h5>
						<form action="" method="post" >
			        		<div class="row py-2 " >
			        			<div class="col-sm-6 d-block">
			        				<div class=" form-group row">
									    <label class="col-sm-3 col-form-label">Mã nhân viên:</label>
									     <div class="col-sm-9">
									       	<input type="text" name=""  class="my-2 form-control form-control-sm">
									     </div>
									</div>
			        			</div>
			        			<div class="col-sm-6">
			        				<div class=" form-group row">
									    <label class="col-sm-3 col-form-label">Tên nhân viên:</label>
									     <div class="col-sm-9">
									       	<input type="text" name=""  class="my-2 form-control form-control-sm">
									     </div>
									</div>
			        			</div>
			        			
			        			
			        		</div>
			        		<div class="row py-2 " >
			        			<div class="col-sm-6 d-block">
			        				<div class=" form-group row">
									    <label class="col-sm-3 col-form-label">Trạng thái:</label>
									     <div class="col-sm-9">
									       	<select id="" class="my-2 form-control form-control-sm">
											  <option value="2">Tất cả</option>
											  <option value="1">Đang hoạt động</option>
											  <option value="0">Khóa</option>
											</select>
									     </div>
									</div>
			        			</div>
			        		</div>
			        		<div class=" border-bottom">
			        			<div class="row  d-flex justify-content-end mx-3 mb-2" >
			        				<a href="#advancedSearch" data-toggle="collapse"><i class="fa fa-cogs"></i> Tìm kiếm nâng cao</a>
			        			</div>
			        			<div id ="advancedSearch" class="collapse mt-2">
			        			<div class="row py-2 " >
				        			<div class="col-sm-6 d-block">
				        				<div class=" form-group row">
										    <label class="col-sm-3 col-form-label">Loại giấy tờ:</label>
										     <div class="col-sm-9">
										       	<select id="paper" class="my-2 form-control form-control-sm">
												  <option value="2">Tất cả</option>
												  <option value="1">CMT nhân dân</option>
												  <option value="0">Thẻ căn cước</option>
												  <option value="0">Hộ chiếu</option>
												</select>
										     </div>
										</div>
				        			</div>
				        			<div class="col-sm-6 d-block">
				        				<div class=" form-group row">
										    <label class="col-sm-3 col-form-label">Số giấy tờ:</label>
										     <div class="col-sm-9">
										       		<input type="text" name=""  class="my-2 form-control form-control-sm">
										     </div>
										</div>
				        			</div>
				        		</div>
				        		<div class="row py-2 border-bottom " >
				        			<div class="col-sm-6 d-block">
				        				<div class=" form-group row">
										    <label class="col-sm-3 col-form-label">Số điện thoại:</label>
										     <div class="col-sm-9">
										       	<input type="text" name=""  class="my-2 form-control form-control-sm">
										     </div>
										</div>
				        			</div>
				        			<div class="col-sm-6 d-block">
				        				<div class=" form-group row">
										    <label class="col-sm-3 col-form-label">Email:</label>
										     <div class="col-sm-9">
										       		<input type="text" name=""  class="my-2 form-control form-control-sm">
										     </div>
										</div>
				        			</div>
				        		</div>
			        		</div>
			        		</div>
			        		
			        	</form>
		        		<br/>
		        	</div>		
		        		<div class="d-flex justify-content-end mb-4">
		        			<div th:if="${#lists.contains(act,'search')}">
		        				<button type="submit" class="btn btn-sm btn-primary mx-2">
		        				<i class="fa fa-search"></i> Tìm kiếm</button>
		        			</div>
		        			<div th:if="${#lists.contains(act,'add')}">
			        			<button type="button" onclick="openModalEdit()" class="btn btn-sm btn-primary mx-2" data-toggle="modal" >
			        			<i class="fa fa-plus"></i> Thêm mới</button>
		        			</div>
		        			<div th:if="${#lists.contains(act,'deleteall')}">
		        				<button type="submit" class="btn btn-sm btn-danger mx-2">
		        				<i class="fa fa-trash-o"></i> Xóa</button>
		        			</div>
							<div th:if="${#lists.contains(act,'import')}">
		        				<button type="submit" class="btn btn-sm btn-success mx-2">
		        				<i class="fa fa-sign-in"></i> Import</button>
		        			</div>
		        			<div th:if="${#lists.contains(act,'export')}">
		        				<button type="submit" class="btn btn-sm btn-success mx-2">
		        				<i class="fa fa-sign-out"></i> Export</button>
		        			</div>
		        			
		        		</div>
							
							
		        	
					</div>
				
				<div class="my-3" th:if="${#lists.contains(act,'viewlist')}">
					<table id="example" class="table table-responsive  table-bordered "
						style="width:600px" data-page-length="10">
						<thead class="thead-light">
							<tr>
								<th data-orderable="false" style="width: 50px;">STT</th>
								<th data-orderable="false" style="width: 80px;">Mã nhân viên</th>
								<th data-orderable="false" style="width: 100px;">Họ tên</th>
								<th data-orderable="false">Email</th>
								<th data-orderable="false" style="width: 100px;">Số giấy tờ tùy thân</th>
								<th data-orderable="false">SĐT</th>
								<th data-orderable="false" style="width: 80px;">Địa chỉ</th>
								<th data-orderable="false" style="width: 100px;">Trạng thái	</th>
								<th data-orderable="false" style="width: 100px;">Thao tác</th>

							</tr>

						</thead>

						<tbody>
							<tr th:each="emp, stat : ${emp}">
								<td th:text="${stat.index + 1}"></td>
								<td th:text="${emp.id}"></td>
								<td th:text="${emp.fullname}"></td>
								<td th:text="${emp.email}"></td>
								<td th:text="${emp.idcard}"></td>
								<td th:text="${emp.phonenumber}"></td>
								<td th:text="${emp.address}"></td>
								<td ><div class="tag " th:text="${emp.status eq 1 ? 'Đang hoạt động' : 'Khóa'}" th:classappend="${emp.status eq 1 ? 'tag-blue' : 'tag-red'}"></div></td>
								<td>
									<button class="btn btn-info btn-sm" title="Chi tiết"  th:attr="onclick=|detailById('${emp.id}')|"  th:if="${#lists.contains(act,'detail')}" data-toggle="tooltip">
										<i class="fa fa-info-circle"></i>
									</button>
									<button class="btn btn-success btn-sm" title="Sửa" th:attr="onclick=|updateById('${emp.id}')|"  th:if="${#lists.contains(act,'update')}" data-toggle="tooltip">
										<i class="fa fa-edit"></i>
									</button>
									
									<button class="btn btn-danger btn-sm"  data-toggle="tooltip" th:attr="onclick=|deleteById('${emp.id}')|" title="xóa"  th:if="${#lists.contains(act,'delete')}">
										<i class="fa fa-trash"></i>
									</button>
									</div>
								</td>

							</tr>


						</tbody>
					</table>

				</div>
				<div class="modal fade" id="editemployee">
							  <div class="modal-dialog modal-xl">
							    <div class="modal-content">
		
							      <!-- Modal Header -->
							      <div class="modal-header">
							        <h4 class="modal-title" id="titleModal">Thêm mới cán bộ, công nhân viên</h4>
							        <button type="button" class="close" data-dismiss="modal">&times;</button>
							      </div>
		
							      <!-- Modal body -->
							       
								      <div class="modal-body">
								     <form method ="post" id="addEmployee">
								      	<div class=" form-group row">
								      		<input id="idcheck" type="hidden"   class="my-1 form-control form-control-sm">
									        	
								      	</div>
								       	<div class=" form-group row">
								       		<div class="col-sm-6">
									       		<label class="col-form-label"><span style="color: red">*</span>Mã nhân viên:</label>
									        	<input id="id" type="text" name="id"  class="my-1 form-control form-control-sm" value="">
									        	
								        	</div>
								        	<div class="col-sm-6">
									       		<label class=" col-form-label"><span style="color: red">*</span>Trạng thái:</label>
									        	<select id="status" class="my-1 form-control form-control-sm" name="status">
													  <option value="1">Đang hoạt động</option>
													  <option value="0">Khóa</option>
													</select>
									        	
								        	</div>
								        </div>
								        <div class=" form-group row">
								        	<div class="col-sm-6">
									       		<label class="col-form-label"><span style="color: red">*</span>Họ và tên:</label>
									        	<input  type="text" id="fullname" name="fullname"  class="my-1 form-control form-control-sm " required="required">
									        	
								        	</div>
								        	<div class="col-sm-6">
									       		<label class=" col-form-label">Ngày sinh:</label>
									        	<input  type="text"  name="dateOfBirth" class="form-control form-control-sm my-1" id="datepicker" placeholder="dd/mm/yyy" readonly>
									        </div>
								        </div>
								        <div class=" form-group row">
								        	<div class="col-sm-6">
									       		<label class="col-form-label">Loại CMND/Hộ chiếu:</label>
									        	<select id="typeidcard" class="my-1 form-control form-control-sm" name="typeidcard">
													  <option value="CMT nhân dân">CMT nhân dân</option>
													  <option value="Thẻ căn cước">Thẻ căn cước</option>
													  <option value="Hộ chiếu">Hộ chiếu</option>
												</select>
									        	
								        	</div>
								        	<div class="col-sm-6">
									       		<label class="col-form-label">Số CMND/HC:</label>
									        	<input type="text" id="idcard" name="idcard"  class="my-1 form-control form-control-sm " >
									        	
								        	</div>
								        </div>
								        <div class=" form-group row">
								        	<div class="col-sm-6">
									       		<label class=" col-form-label"><span style="color: red">*</span>Email:</label>
									        	<input type="email" id="email" name="email"  class="my-1 form-control form-control-sm " required="required">
									        	
								        	</div>
								        	<div class="col-sm-6">
									       		<label class="col-form-label">SĐT:</label>
									        	<input type="tel" id="phonenumber" name="phonenumber" class="my-1 form-control form-control-sm " >
									        	
								        	</div>
								        </div>
								        <div class=" form-group row">
								        	<div class="col-sm-6">
									       		<label class="col-form-label"><span style="color: red">*</span>Giới tính:</label>
									        	<select id="gender" class="my-1 form-control form-control-sm" name="gender">
													  <option value="1">Nam</option>
													  <option value="2">Nữ</option>
													  <option value="3">Khác</option>
												</select>
									        	
								        	</div>
								        	<div class="col-sm-6">
									       		<label class="col-form-label">Địa chỉ:</label>
									        	<input type="text" id="address" name="address"  class="my-1 form-control form-control-sm " >
									        	
								        	</div>
								        </div>
								         </form>
								       
								      </div>
		
								      <!-- Modal footer -->
								      <div class="modal-footer">
								      	<button type="submit" class="btn btn-primary border" id="btnAddEmp" >Lưu</button>
								        <button type="button" class="btn btn-white border" data-dismiss="modal">Quay lại</button>
								      </div>
							      
		
							    </div>
							  </div>
							</div>
			</div>
			
		</div>
		
		<!-- /#page-content-wrapper -->
	<script type="text/javascript" th:src="@{/js/employees.js}"></script>
	<script type="text/javascript">
	    $(document).ready(function () {
	        $('#datepicker').datepicker({
	        	
	            format: 'yyyy-mm-dd',
	            endDate: new Date(),
	            todayHighlight: true,
	            autoclose: true,
	        });
	    });
	</script>
	<script type="text/javascript">
		$(function() {
			
			$(document).ready(function() {
			    var table = $('#example').DataTable( {
			    	
			    	bFilter:false,
			    	bInfo: false,
			    	scrollY:        300,
			    	 scrollX: true,
			    	 scrollCollapse: true,
			        fixedColumns:   {
			            leftColumns: 3,
			            rightColumns: 1
			        }
			    } );
			} );
		});
	</script>
</body>
</html>